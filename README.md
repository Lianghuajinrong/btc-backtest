## 比特币双均线回测小网页

本项目提供一个简单的本地回测系统：

- 后端：`FastAPI` 提供 BTC-USD 日线数据与“双均线策略回测”接口
- 前端：单页 `index.html`，可以调整短/长均线周期与初始资金，并展示价格+均线、净值曲线

### 一、安装依赖

在项目根目录（本文件所在目录）打开终端，执行：

```bash
pip install -r requirements.txt
```

（如有多个 Python 版本，请确认使用的是你想要的环境。）

### 二、启动后端服务

在项目根目录执行：

```bash
python backend.py
```

默认会启动在：

- 地址：`http://127.0.0.1:8000`
- 双均线回测接口：`GET /api/backtest/double_ma`
- BTC 日线数据接口：`GET /api/btc_daily`

> 首次启动时会通过 `yfinance` 下载 BTC-USD 日线历史数据，可能需要几秒钟时间。

### 三、打开前端网页

启动好后端后，直接用浏览器打开本项目根目录下的：

- `index.html`

在页面顶部可以调整：

- 短均线周期（天）
- 长均线周期（天）
- 初始资金（USD）

点击「运行回测」按钮，即可看到：

- 上方：价格 + 双均线
- 下方：策略净值曲线
- 中间：整体收益、最大回撤、交易次数等指标

### 四、后续扩展

后端已预留统一的数据接口：

- `GET /api/btc_daily` 返回 BTC-USD 日线 K 线数据

未来要新增其他策略（例如：布林带、突破、动量等），可以：

1. 复用 `load_btc_daily()` 获取相同的数据集
2. 新增对应的回测函数
3. 暴露新的 API（例如 `/api/backtest/bollinger`），前端直接改成请求新的接口即可共用同一套数据。

